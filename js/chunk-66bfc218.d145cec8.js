(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66bfc218"],{"4de4":function(t,e,s){"use strict";var a=s("23e7"),r=s("b727").filter,n=s("1dde"),i=s("ae40"),c=n("filter"),u=i("filter");a({target:"Array",proto:!0,forced:!c||!u},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"58a3":function(t,e,s){"use strict";var a=s("db20"),r=s.n(a);r.a},db20:function(t,e,s){},efd9:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),s("table",{staticClass:"table"},[t._m(0),t.orders.length?s("tbody",t._l(t.pageOrders,(function(e,a){return s("tr",{key:a},[s("td",[t._v(t._s(e.createdAt.split("T")[0]))]),s("td",[s("ul",{staticClass:"list-unstyled text-left"},[s("li",[s("strong",[t._v("客戶名稱")]),t._v(": "+t._s(e.name))]),s("li",[s("strong",[t._v("電子信箱")]),t._v(": "+t._s(e.email))]),s("li",[s("strong",[t._v("手機")]),t._v(": "+t._s(e.tel))]),s("li",[s("strong",[t._v("地址")]),t._v(": "+t._s(e.address))])])]),s("td",[s("ul",{staticClass:"list-unstyled text-left"},t._l(e.Products,(function(e,a){return s("li",{key:a,staticClass:"pb-2 pt-2",staticStyle:{"border-bottom":"1px solid #DCDCDC"}},[t._v(" "+t._s(e.title.substring(0,20))),s("br"),t._v(" 數量："+t._s(e.OrderItem.num)+" "+t._s(e.unit)+" ")])})),0)]),s("td",[t._v(t._s(e.payment))]),s("td",{staticClass:"text-right"},[t._v(t._s(e.Products[0].OrderItem.amount))]),s("td",[s("div",{staticClass:"custom-control custom-switch"},[s("input",{staticClass:"custom-control-input",attrs:{id:e.id,type:"checkbox"},domProps:{checked:e.status},on:{change:function(s){return t.setOrderPaid(e.id,e.status)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:e.id}},[e.status?s("strong",{staticClass:"text-paid"},[t._v("已付款")]):s("span",{staticClass:"text-muted"},[t._v("尚未付款")])])])])])})),0):t._e()]),s("Paginate",{attrs:{"page-count":t.pageNum,"prev-text":"<<","prev-class":"page-item","prev-link-class":"page-link","next-text":">>","next-class":"page-item","next-link-class":"page-link","click-handler":t.pageCallBack,"page-class":"page-item","page-link-class":"page-link","container-class":"pagination"}})],1)},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("下單時間")]),s("th",[t._v("客戶資訊")]),s("th",[t._v("購買商品")]),s("th",[t._v("付款方式")]),s("th",[t._v("應付金額")]),s("th",[t._v("是否付款")])])])}],n=(s("4de4"),s("4160"),s("159b"),s("96cf"),s("1da1")),i=s("a562"),c={data:function(){return{pageNum:1,currentPage:1,pageSize:10,orders:[],isNew:!1,pagination:{},isLoading:!1}},methods:{getOrders:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s,a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t,s.isLoading=!0,e.next=4,i["a"].getOrders();case 4:a=e.sent,r=a.data,n=a.statusText,"success"===r.status&&"OK"===n&&(s.orders=r.orders),s.isLoading=!1;case 9:case"end":return e.stop()}}),e)})))()},setOrderPaid:function(t,e){var s=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r,n,c,u,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=s,n={productId:t,status:e},r.isLoading=!0,a.next=5,i["a"].putOrder(n);case 5:c=a.sent,u=c.data,o=c.statusText,"success"===u.status&&"OK"===o&&r.$swal({icon:"success",title:"客戶付款資訊編輯成功"}),r.getOrders(),r.isLoading=!1;case 11:case"end":return a.stop()}}),a)})))()},pageCallBack:function(t){this.currentPage=t},setPageNum:function(){var t=this,e=t.orders;return t.pageNum=Math.ceil(e.length/t.pageSize),e.forEach((function(e,s){t.$set(e,"page",parseInt(s/t.pageSize,10)+1),t.$set(e,"num",s+1)})),e}},created:function(){this.getOrders()},watch:{orders:function(){this.setPageNum()}},computed:{pageOrders:function(){var t=this,e=t.setPageNum();return e&&e.length>0?(e=e.filter((function(e){return e.page===t.currentPage})),e):[]}}},u=c,o=(s("58a3"),s("2877")),l=Object(o["a"])(u,a,r,!1,null,"0f83ac9a",null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-66bfc218.d145cec8.js.map