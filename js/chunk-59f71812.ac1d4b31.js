(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59f71812"],{"29ee":function(t,e,a){},"2c28":function(t,e,a){"use strict";a("99af");var r=a("2fa3");e["a"]={getCategorys:function(){return r["a"].get("/categoryies")},getCategory:function(t){return r["a"].get("/category/".concat(t))},getCategoryProducts:function(t){return r["a"].get("/category/".concat(t,"/products"))},getSubCategory:function(t){return r["a"].get("/category/".concat(t.category,"/subcategory/").concat(t.subCategory,"/products"))},getSubCategoryProducts:function(t){return r["a"].get("/subcategory/".concat(t,"/products"))},getProducts:function(){return r["a"].get("/products")},getProduct:function(t){return r["a"].get("/product/".concat(t))},postOrder:function(t){return r["a"].post("/order",t)},getOrder:function(t){return r["a"].get("/order/".concat(t))}}},"30b9":function(t,e,a){"use strict";var r=a("29ee"),s=a.n(r);s.a},"4b1c":function(t,e,a){"use strict";var r=a("f588"),s=a.n(r);s.a},"4c53":function(t,e,a){"use strict";var r=a("23e7"),s=a("857a"),n=a("af03");r({target:"String",proto:!0,forced:n("sub")},{sub:function(){return s(this,"sub","","")}})},"4de4":function(t,e,a){"use strict";var r=a("23e7"),s=a("b727").filter,n=a("1dde"),c=a("ae40"),i=n("filter"),o=c("filter");r({target:"Array",proto:!0,forced:!i||!o},{filter:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},6930:function(t,e,a){t.exports=a.p+"img/logo.b92b8896.jpg"},"81b1":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"top-margin"},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"container"},[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$router.push("/shop/home")}}},[t._v("首頁")])]),a("li",{staticClass:"breadcrumb-item active"},[t._v(" "+t._s(t.category.title)+" ")])])]),a("div",{staticClass:"category-guide text-left"},[a("h2",{staticClass:"text-left my-3"},[t._v(t._s(t.category.title))]),a("div",{staticClass:"pt-3 mb-5"},[a("div",{staticClass:"d-flex flex-wrap"},t._l(t.categoryGuide,(function(e,r){return a("div",{key:r,staticClass:"sub-link pl-0",on:{click:function(a){return a.preventDefault(),t.switchSubPath(e.id,t.category.id)}}},[t._v("- "+t._s(e.title))])})),0)])])]),a("div",{staticClass:"container"},[a("ProductCard",{ref:"productCard",attrs:{category:t.category.id}})],1)],1)},s=[],n=(a("96cf"),a("1da1")),c=a("e915"),i=a("2c28"),o={components:{ProductCard:c["a"]},data:function(){return{isLoading:!1,category:{},categoryGuide:[]}},computed:{},methods:{switchSubPath:function(t,e){this.$router.push({name:"SubProducts",params:{category:e,subCategory:t}})},getCategoryProducts:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r,s,n,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e,a.next=3,i["a"].getCategory(t);case 3:s=a.sent,n=s.data,c=s.statusText,"success"===n.status&&"OK"===c&&(r.category=n.category,r.categoryGuide=n.category.SubCategories);case 7:case"end":return a.stop()}}),a)})))()}},created:function(){var t=this.$route.params.category;this.getCategoryProducts(t)},watch:{$route:function(){var t=this.$route.params.category;this.getCategoryProducts(t)}}},u=o,d=(a("30b9"),a("2877")),g=Object(d["a"])(u,r,s,!1,null,"60a0b605",null);e["default"]=g.exports},8418:function(t,e,a){"use strict";var r=a("c04e"),s=a("9bf2"),n=a("5c6c");t.exports=function(t,e,a){var c=r(e);c in t?s.f(t,c,n(0,a)):t[c]=a}},"857a":function(t,e,a){var r=a("1d80"),s=/"/g;t.exports=function(t,e,a,n){var c=String(r(t)),i="<"+e;return""!==a&&(i+=" "+a+'="'+String(n).replace(s,"&quot;")+'"'),i+">"+c+"</"+e+">"}},"99af":function(t,e,a){"use strict";var r=a("23e7"),s=a("d039"),n=a("e8b5"),c=a("861d"),i=a("7b0b"),o=a("50c4"),u=a("8418"),d=a("65f0"),g=a("1dde"),l=a("b622"),f=a("2d00"),p=l("isConcatSpreadable"),h=9007199254740991,v="Maximum allowed index exceeded",b=f>=51||!s((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),m=g("concat"),y=function(t){if(!c(t))return!1;var e=t[p];return void 0!==e?!!e:n(t)},C=!b||!m;r({target:"Array",proto:!0,forced:C},{concat:function(t){var e,a,r,s,n,c=i(this),g=d(c,0),l=0;for(e=-1,r=arguments.length;e<r;e++)if(n=-1===e?c:arguments[e],y(n)){if(s=o(n.length),l+s>h)throw TypeError(v);for(a=0;a<s;a++,l++)a in n&&u(g,l,n[a])}else{if(l>=h)throw TypeError(v);u(g,l++,n)}return g.length=l,g}})},af03:function(t,e,a){var r=a("d039");t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},e915:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._l(t.pageProducts,(function(e){return r("div",{key:e.id,staticClass:"col-md-3 col-6 mb-3"},[r("div",{staticClass:"card"},[r("div",{staticClass:"inner"},[r("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.getDetail(e.id)}}},[e.image1?r("img",{staticClass:"card-img-top",attrs:{src:e.image1,alt:e.title+"產品照"}}):r("img",{staticClass:"card-img-top",attrs:{src:a("6930")}})]),r("button",{staticClass:"wish",attrs:{type:"button"}},[t.wishListId.includes(e.id)?r("div",{on:{click:function(a){return t.addToWishList(e,t.status=!1)}}},[r("i",{staticClass:"fas fa-heart text-primary"})]):r("div",{on:{click:function(a){return t.addToWishList(e,t.status=!0)}}},[r("i",{staticClass:"far fa-heart text-muted"})])]),r("button",{staticClass:"see-more",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.getDetail(e.id)}}},[r("i",{staticClass:"fas fa-search"},[t._v(" see more")])])]),r("div",{staticClass:"card-body px-0"},[r("div",{staticClass:"card-title d-flex mb-0"},[r("div",{staticClass:"mr-auto"},[r("button",{staticClass:"p-0",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.getDetail(e.id)}}},[r("h5",{staticClass:"text-left text-muted"},[t._v(" "+t._s(e.title.substring(0,9)+" ....")+" ")])])])]),r("div",{staticClass:"price-style card-text text-left my-0"},[r("span",{staticClass:"mr-2"},[t._v(" NT."+t._s(e.price)+" ")]),0!=e.origin_price?r("span",{staticClass:"line-through text-muted"},[t._v(" NT."+t._s(e.origin_price)+" ")]):t._e()])])])])})),t.sub||t.category?r("Paginate",{attrs:{"page-count":t.pageNum,"prev-text":"<<","prev-class":"page-item","prev-link-class":"page-link","next-text":">>","next-class":"page-item","next-link-class":"page-link","click-handler":t.pageCallBack,"page-class":"page-item","page-link-class":"page-link","container-class":"pagination col-md-12 col-12"}}):t._e()],2)},s=[],n=(a("4de4"),a("4160"),a("d81d"),a("4c53"),a("159b"),a("96cf"),a("1da1")),c=a("2c28"),i={props:["newArrival","para","sub","alsoLikeCategory","alsoLikeId","category"],data:function(){return{pageNum:1,pageSize:12,currentPage:1,products:[],wishList:[],isLoading:!1}},computed:{wishListId:function(){return this.$store.state.wishList.map((function(t){return t.id}))},pageProducts:function(){var t=this,e=t.setPageNum();return e&&e.length>0?(e=e.filter((function(e){return e.page===t.currentPage})),e):[]}},methods:{getProducts:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,r,s,n,i,o,u,d,g,l,f,p,h,v,b,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t,a.isLoading=!0,a.products=[],!a.category){e.next=10;break}return e.next=6,c["a"].getCategoryProducts(a.category);case 6:r=e.sent,s=r.data,n=r.statusText,"success"===s.status&&"OK"===n&&s.categoryProducts.forEach((function(t){t.enabled&&a.products.push(t)}));case 10:if(!a.sub){e.next=17;break}return e.next=13,c["a"].getSubCategoryProducts(a.sub);case 13:i=e.sent,o=i.data,u=i.statusText,"success"===o.status&&"OK"===u&&o.products.forEach((function(t){t.enabled&&a.products.push(t)}));case 17:if(!a.alsoLikeCategory){e.next=24;break}return e.next=20,c["a"].getCategoryProducts(a.alsoLikeCategory);case 20:d=e.sent,g=d.data,l=d.statusText,"success"===g.status&&"OK"===l&&(f=g.categoryProducts.filter((function(t){return t.id!==a.alsoLikeId})),f.forEach((function(t){t.enabled&&a.products.push(t)})));case 24:if(!a.newArrival){e.next=31;break}return e.next=27,c["a"].getProducts();case 27:p=e.sent,h=p.data,v=p.statusText,"success"===h.status&&"OK"===v&&(b=function(t){return new Date(t).getTime()},m=h.products.filter((function(t){return t.enabled})),m.sort((function(t,e){return b(e.createdAt)-b(t.createdAt)})),m.forEach((function(t,e){e<a.newArrival&&a.products.push(t)})));case 31:a.isLoading=!1;case 32:case"end":return e.stop()}}),e)})))()},getDetail:function(t){this.$router.push({name:"Product",params:{id:t}})},addToWishList:function(t,e){this.$store.commit("setWishList",t),e?this.$swal({icon:"success",title:"新增願望清單",showConfirmButton:!1,timer:1e3}):this.$swal({icon:"error",title:"刪除願望清單",showConfirmButton:!1,timer:1e3})},setPageNum:function(){var t=this,e=t.products;return t.pageNum=Math.ceil(e.length/t.pageSize),e.forEach((function(e,a){t.$set(e,"page",parseInt(a/t.pageSize,10)+1),t.$set(e,"num",a+1)})),e},pageCallBack:function(t){this.currentPage=t}},watch:{category:function(){this.getProducts()},sub:function(){this.getProducts()},alsoLikeCategory:function(){this.getProducts()},products:function(){this.setPageNum()}},created:function(){this.getProducts()}},o=i,u=(a("4b1c"),a("2877")),d=Object(u["a"])(o,r,s,!1,null,"11df8968",null);e["a"]=d.exports},f588:function(t,e,a){}}]);
//# sourceMappingURL=chunk-59f71812.ac1d4b31.js.map